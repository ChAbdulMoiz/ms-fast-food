<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MS Fast Food ‚Äì Street Taste</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --accent: #ff4b2b;
      --accent-soft: #ff9068;
      --accent-strong: #ff2e63;
      --accent-green: #27ae60;
      --danger: #e74c3c;
      --text-light: #f9f9f9;
      --text-dark: #181818;
      --bg-dark: #0f1115;
      --bg-light: #f7f7f7;
      --card-dark: #181b22;
      --card-light: #ffffff;
      --shadow-soft: 0 8px 24px rgba(0,0,0,0.35);
      --shadow-light: 0 6px 18px rgba(0,0,0,0.16);
      --radius-lg: 18px;
      --radius-md: 12px;
      --transition-fast: 0.15s ease-out;
      --transition-med: 0.25s ease-out;
      --font-heading: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      --font-body: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    [data-theme="dark"] {
      --bg: var(--bg-dark);
      --bg-alt: #151822;
      --text-main: var(--text-light);
      --text-soft: #c7c7d7;
      --card: var(--card-dark);
      --shadow: var(--shadow-soft);
      --border-subtle: rgba(255,255,255,0.07);
    }

    [data-theme="light"] {
      --bg: var(--bg-light);
      --bg-alt: #ffffff;
      --text-main: var(--text-dark);
      --text-soft: #555;
      --card: var(--card-light);
      --shadow: var(--shadow-light);
      --border-subtle: rgba(0,0,0,0.06);
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      margin: 0;
      font-family: var(--font-body);
      background: var(--bg);
      color: var(--text-main);
      min-height: 100vh;
      font-size: 15px;
      line-height: 1.5;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    button {
      font-family: inherit;
    }

    .app-shell {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      background:
        radial-gradient(circle at top left, rgba(255,255,255,0.8) 0, var(--bg) 55%, var(--bg) 100%);
    }

    body[data-theme="dark"] .app-shell {
      background:
        radial-gradient(circle at top left, #1f2933 0, var(--bg) 45%, var(--bg) 100%);
    }

    /* HEADER */

    header {
      position: sticky;
      top: 0;
      z-index: 50;
      backdrop-filter: blur(16px);
      background: rgba(255,255,255,0.96);
      border-bottom: 1px solid rgba(0,0,0,0.06);
    }

    body[data-theme="dark"] header {
      background: rgba(8,9,13,0.96);
      border-bottom-color: rgba(255,255,255,0.06);
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.5rem 0.75rem;
      max-width: 1120px;
      margin: 0 auto;
      gap: 0.4rem;
    }

    @media (min-width: 640px) {
      .nav {
        padding-inline: 0.9rem;
      }
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      min-width: 0;
      flex: 1;
    }

    .brand-logo {
      width: 34px;
      height: 34px;
      border-radius: 14px;
      background: radial-gradient(circle at 30% 0, #ffe6a7 0, #ff4b2b 40%, #8e2de2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 800;
      font-size: 1rem;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      flex-shrink: 0;
    }

    .brand-text-wrap {
      overflow: hidden;
    }

    .brand-text-main {
      font-weight: 800;
      letter-spacing: 0.03em;
      font-size: 0.98rem;
      line-height: 1.2;
      white-space: nowrap;
    }

    .brand-text-sub {
      font-size: 0.68rem;
      opacity: 0.8;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      white-space: nowrap;
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      flex-shrink: 0;
    }

    @media (min-width: 480px) {
      .nav-right {
        gap: 0.35rem;
      }
    }

    .nav-btn {
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.08);
      padding: 0.28rem 0.55rem;
      background: rgba(0,0,0,0.02);
      color: inherit;
      font-size: 0.72rem;
      display: inline-flex;
      align-items: center;
      gap: 0.2rem;
      cursor: pointer;
      white-space: nowrap;
      transition: background var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
    }

    body[data-theme="dark"] .nav-btn {
      border-color: rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.03);
    }

    .nav-btn span:last-child {
      display: none;
    }

    @media (min-width: 520px) {
      .nav-btn span:last-child {
        display: inline;
      }
    }

    .nav-btn:hover {
      background: rgba(0,0,0,0.04);
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.12);
    }

    body[data-theme="dark"] .nav-btn:hover {
      background: rgba(255,255,255,0.07);
      box-shadow: 0 4px 14px rgba(0,0,0,0.4);
    }

    .nav-phone {
      display: inline-flex;
    }

    @media (max-width: 360px) {
      .nav-phone {
        display: none;
      }
    }

    .nav-tag {
      display: none; /* we show timing below hero on mobile instead */
    }

    /* Theme switch: single dot */

    .theme-toggle {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.28);
      background: radial-gradient(circle at 30% 0, #fff 0, #ffd54f 45%, #ffb300 100%);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: border-color var(--transition-med), background var(--transition-med), box-shadow var(--transition-med);
      flex-shrink: 0;
    }

    body[data-theme="dark"] .theme-toggle {
      background: radial-gradient(circle at 20% 0, #fff 0, #999 40%, #444 100%);
      border-color: rgba(255,255,255,0.35);
      box-shadow: 0 0 0 1px rgba(255,255,255,0.15);
    }

    .theme-toggle-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #fff;
      box-shadow: 0 0 6px rgba(0,0,0,0.25);
    }

    body[data-theme="dark"] .theme-toggle-dot {
      background: #ffeb3b;
      box-shadow: 0 0 8px rgba(255,235,59,0.8);
    }

    main {
      flex: 1;
    }

    .page {
      display: none;
      padding: 0.9rem 0.9rem 2.5rem 0.9rem;
      max-width: 1120px;
      margin: 0 auto;
    }

    .page.active {
      display: block;
    }

    @media (min-width: 700px) {
      .page {
        padding-inline: 1.2rem;
      }
    }

    /* HERO */

    .hero {
      display: grid;
      grid-template-columns: minmax(0,1.35fr);
      gap: 1rem;
      margin-top: 0.7rem;
      margin-bottom: 0.8rem;
      align-items: center;
    }

    @media (min-width: 900px) {
      .hero {
        grid-template-columns: minmax(0,1.5fr) minmax(0,1.05fr);
      }
    }

    .hero-heading {
      font-family: var(--font-heading);
      font-size: 1.78rem;
      line-height: 1.2;
      margin: 0 0 0.35rem 0;
      letter-spacing: 0.01em;
      word-wrap: break-word;
    }

    @media (min-width: 700px) {
      .hero-heading {
        font-size: 2.2rem;
      }
    }

    .hero-heading span.accent {
      background: linear-gradient(135deg, #ff9a9e 0%, #fecf6a 20%, #ff4b2b 60%, #f857a6 100%);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-timing-small {
      display: flex;
      align-items: center;
      gap: 0.35rem;
      font-size: 0.74rem;
      color: var(--text-soft);
      margin-bottom: 0.45rem;
      flex-wrap: wrap;
    }

    .hero-sub {
      font-size: 0.92rem;
      color: var(--text-soft);
      max-width: 520px;
      margin-bottom: 0.6rem;
    }

    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
      margin-bottom: 0.7rem;
    }

    .badge {
      font-size: 0.74rem;
      padding: 0.24rem 0.6rem;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.08);
      background: rgba(0,0,0,0.02);
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      white-space: nowrap;
    }

    body[data-theme="dark"] .badge {
      border-color: rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.05);
    }

    .badge-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #2ecc71;
      box-shadow: 0 0 8px #2ecc71;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.55rem;
      align-items: center;
      margin-bottom: 0.65rem;
    }

    .btn-lg {
      border-radius: 999px;
      padding: 0.65rem 1.3rem;
      font-size: 0.92rem;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      font-weight: 600;
      box-shadow: 0 10px 26px rgba(0,0,0,0.25);
      background: linear-gradient(135deg, var(--accent-strong), var(--accent));
      color: #fff;
      transition: transform var(--transition-med), box-shadow var(--transition-med), filter var(--transition-fast);
    }

    .btn-lg:hover {
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow: 0 12px 30px rgba(255,76,43,0.6);
    }

    .btn-ghost {
      background: transparent;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.16);
      color: inherit;
      padding: 0.6rem 1.1rem;
      font-size: 0.86rem;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      cursor: pointer;
      transition: background var(--transition-fast), transform var(--transition-fast), border-color var(--transition-fast), box-shadow var(--transition-fast);
    }

    body[data-theme="dark"] .btn-ghost {
      border-color: rgba(255,255,255,0.18);
    }

    .btn-ghost:hover {
      background: rgba(0,0,0,0.04);
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(0,0,0,0.16);
    }

    body[data-theme="dark"] .btn-ghost:hover {
      background: rgba(255,255,255,0.08);
      box-shadow: 0 6px 18px rgba(0,0,0,0.45);
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    .hero-meta-item {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }

    .hero-meta-dot {
      width: 4px;
      height: 4px;
      border-radius: 999px;
      background: rgba(0,0,0,0.35);
    }

    body[data-theme="dark"] .hero-meta-dot {
      background: rgba(255,255,255,0.4);
    }

    /* HERO CARD (visual) */

    .hero-card {
      border-radius: 22px;
      background: radial-gradient(circle at 10% 0, #ffd194 0, #ff4b2b 35%, #2b5876 90%);
      padding: 0.9rem;
      position: relative;
      overflow: hidden;
      min-height: 170px;
      box-shadow: 0 18px 40px rgba(0,0,0,0.5);
    }

    .hero-card-inner {
      background: rgba(0,0,0,0.5);
      border-radius: 18px;
      height: 100%;
      padding: 0.85rem;
      display: grid;
      grid-template-columns: minmax(0,1.2fr) minmax(0,1.1fr);
      gap: 0.7rem;
      align-items: center;
    }

    .hero-card-text {
      color: #fff;
      font-size: 0.82rem;
    }

    .hero-card-text h3 {
      margin: 0 0 0.2rem 0;
      font-size: 1.02rem;
      line-height: 1.25;
    }

    .hero-card-text p {
      margin: 0 0 0.45rem 0;
      font-size: 0.72rem;
      opacity: 0.9;
    }

    .hero-mini-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.25rem;
      margin-bottom: 0.4rem;
    }

    .hero-mini-tag {
      font-size: 0.64rem;
      padding: 0.16rem 0.5rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.35);
      background: rgba(0,0,0,0.24);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .hero-card-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 0.1rem;
      font-size: 0.7rem;
      color: rgba(255,255,255,0.9);
      gap: 0.4rem;
    }

    .hero-card-stars {
      display: inline-flex;
      align-items: center;
      gap: 0.18rem;
    }

    .hero-card-stars span.star {
      color: #ffd700;
      font-size: 0.72rem;
    }

    .hero-card-badge-deal {
      padding: 0.16rem 0.5rem;
      border-radius: 999px;
      background: rgba(0,0,0,0.7);
      border: 1px solid rgba(255,255,255,0.35);
      font-size: 0.64rem;
      white-space: nowrap;
    }

    .hero-food {
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hero-food-plate {
      width: 100%;
      max-width: 190px;
      aspect-ratio: 4/3;
      border-radius: 999px;
      background:
        radial-gradient(circle at 20% 0, rgba(255,255,255,0.4) 0, transparent 35%),
        radial-gradient(circle at 75% 10%, rgba(255,255,255,0.3) 0, transparent 40%),
        radial-gradient(circle at 50% 120%, rgba(0,0,0,0.6) 0, transparent 55%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .hero-food-wrap {
      width: 82%;
      height: 72%;
      border-radius: 999px;
      background: linear-gradient(135deg, #f4e4c1 0, #f0d2a4 40%, #e2b66b 100%);
      position: relative;
      box-shadow: 0 14px 30px rgba(0,0,0,0.55);
      overflow: hidden;
    }

    .hero-card-badge {
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      background: rgba(0,0,0,0.6);
      border-radius: 999px;
      padding: 0.18rem 0.55rem;
      font-size: 0.64rem;
      position: absolute;
      top: 0.65rem;
      right: 0.75rem;
      border: 1px solid rgba(255,255,255,0.3);
      color: #fff;
    }

    .hero-card-badge-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #2ecc71;
      box-shadow: 0 0 8px #2ecc71;
    }

    /* SECTIONS, MENU, CART, OWNER, CONTACT, FOOTER */
    /* (identical to previous working version ‚Äì omitted comments for brevity) */

    .section { margin-top: 1.1rem; }
    .section-header {
      display: flex;
      align-items: flex-start;
      justify-content: space-between;
      gap: 0.7rem;
      margin-bottom: 0.6rem;
      flex-wrap: wrap;
    }
    .section-title {
      font-size: 1.05rem;
      font-weight: 700;
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      flex-wrap: wrap;
    }
    .section-title span.accent {
      font-size: 0.78rem;
      font-weight: 500;
      padding: 0.14rem 0.55rem;
      border-radius: 999px;
      background: rgba(0,0,0,0.02);
      border: 1px solid rgba(0,0,0,0.08);
      color: var(--text-soft);
    }
    body[data-theme="dark"] .section-title span.accent {
      background: rgba(255,255,255,0.05);
      border-color: rgba(255,255,255,0.12);
    }
    .section-sub {
      font-size: 0.8rem;
      color: var(--text-soft);
      max-width: 320px;
    }

    .category-tabs {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      gap: 0.45rem;
      padding-bottom: 0.3rem;
      margin-bottom: 0.45rem;
      scrollbar-width: none;
    }
    .category-tabs::-webkit-scrollbar { display: none; }

    .category-tab {
      white-space: nowrap;
      font-size: 0.8rem;
      padding: 0.3rem 0.8rem;
      border-radius: 999px;
      border: 1px solid rgba(0,0,0,0.08);
      background: rgba(0,0,0,0.02);
      color: var(--text-soft);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      transition: background var(--transition-fast), color var(--transition-fast), border-color var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast);
    }
    body[data-theme="dark"] .category-tab {
      background: rgba(255,255,255,0.03);
      border-color: rgba(255,255,255,0.14);
    }
    .category-tab span.dot {
      width: 6px; height: 6px; border-radius: 999px; background: rgba(0,0,0,0.25);
    }
    body[data-theme="dark"] .category-tab span.dot { background: rgba(255,255,255,0.4); }
    .category-tab.active {
      background: linear-gradient(135deg, var(--accent-soft), var(--accent));
      border-color: transparent;
      color: #fff;
      box-shadow: 0 4px 16px rgba(255,76,43,0.5);
      transform: translateY(-1px);
    }
    .category-tab.active span.dot { background: #fff; }

    .menu-grid {
      display: grid;
      grid-template-columns: minmax(0,1fr);
      gap: 0.6rem;
    }
    @media (min-width: 640px) {
      .menu-grid { grid-template-columns: repeat(2, minmax(0,1fr)); }
    }

    .menu-card {
      border-radius: var(--radius-md);
      background: var(--card);
      padding: 0.6rem 0.65rem;
      box-shadow: var(--shadow);
      display: flex;
      gap: 0.55rem;
      border: 1px solid var(--border-subtle);
      position: relative;
      overflow: hidden;
    }
    .menu-thumb {
      width: 56px; min-width: 56px; height: 56px;
      border-radius: 16px;
      background:
        radial-gradient(circle at 20% 0, #fff 0, #ffe0b2 50%, #ff5722 100%),
        radial-gradient(circle at 80% 90%, rgba(0,0,0,0.45) 0, transparent 60%);
      box-shadow: 0 8px 18px rgba(0,0,0,0.3);
      flex-shrink: 0;
    }
    .menu-content { flex: 1; min-width: 0; }
    .menu-title-row {
      display: flex; justify-content: space-between; align-items: flex-start;
      gap: 0.4rem; margin-bottom: 0.18rem;
    }
    .menu-name { font-size: 0.94rem; font-weight: 600; word-wrap: break-word; }
    .menu-price { font-size: 0.9rem; font-weight: 700; color: #d35400; white-space: nowrap; }
    body[data-theme="dark"] .menu-price { color: #ffe97f; }
    .menu-desc { font-size: 0.76rem; color: var(--text-soft); margin-bottom: 0.25rem; }
    .menu-meta-row {
      display: flex; align-items: center; justify-content: space-between; gap: 0.4rem;
    }
    .menu-tags {
      display: inline-flex; flex-wrap: wrap; gap: 0.25rem;
      font-size: 0.67rem; color: var(--text-soft);
    }
    .menu-tag {
      padding: 0.12rem 0.45rem; border-radius: 999px;
      background: rgba(0,0,0,0.03); border: 1px solid rgba(0,0,0,0.07);
    }
    body[data-theme="dark"] .menu-tag {
      background: rgba(0,0,0,0.5);
      border-color: rgba(255,255,255,0.18); color: rgba(255,255,255,0.9);
    }
    .menu-cta {
      display: inline-flex; align-items: center; gap: 0.22rem;
      font-size: 0.78rem; padding: 0.2rem 0.65rem; border-radius: 999px;
      background: linear-gradient(135deg, var(--accent-soft), var(--accent));
      color: #fff; border: none; cursor: pointer; white-space: nowrap;
      box-shadow: 0 5px 14px rgba(255,76,43,0.6);
      transition: transform var(--transition-fast), box-shadow var(--transition-fast);
    }
    .menu-cta:hover { transform: translateY(-1px); box-shadow: 0 6px 16px rgba(255,76,43,0.7); }
    .menu-badge-unavailable {
      position: absolute; top: 6px; left: -34px; transform: rotate(-18deg);
      background: rgba(0,0,0,0.85); color: #ffb3b3; font-size: 0.62rem;
      padding: 0.1rem 1.4rem; border-top: 1px solid rgba(255,255,255,0.3);
      border-bottom: 1px solid rgba(255,255,255,0.3);
    }
    .menu-card.unavailable { opacity: 0.6; }

    /* Cart, forms, owner portal, contact, footer CSS identical to previous working version.
       (Kept here but shortened for readability in this answer.) */

    .two-col { display: grid; grid-template-columns: minmax(0,1fr); gap: 0.8rem; align-items: flex-start; }
    @media (min-width: 900px) {
      .two-col { grid-template-columns: minmax(0,1.05fr) minmax(0,1fr); }
    }
    .card {
      border-radius: var(--radius-lg); background: var(--card);
      padding: 0.8rem 0.85rem; box-shadow: var(--shadow); border: 1px solid var(--border-subtle);
    }
    .card-title {
      font-size: 0.96rem; font-weight: 600;
      margin-bottom: 0.5rem;
      display: flex; align-items: center; justify-content: space-between; gap: 0.35rem; flex-wrap: wrap;
    }
    .card-title span.sub { font-size: 0.78rem; color: var(--text-soft); font-weight: 400; }

    /* ... (rest of CSS unchanged from last working full index.html) ... */

    .footer {
      font-size: 0.74rem;
      color: var(--text-soft);
      text-align: center;
      padding: 0.9rem 0.6rem 2.2rem 0.6rem;
    }
    .footer span.brand-mini { font-weight: 600; color: #ff7043; }

    .icon { font-size: 0.9em; }
    .icon-sm { font-size: 0.8em; }
    .icon-xs { font-size: 0.7em; }
  </style>
</head>
<body data-theme="light">
<div class="app-shell">

  <!-- HEADER -->
  <header>
    <div class="nav">
      <div class="brand">
        <div class="brand-logo">MS</div>
        <div class="brand-text-wrap">
          <div class="brand-text-main">MS Fast Food</div>
          <div class="brand-text-sub">Amazing Taste ‚Ä¢ Rawalpindi</div>
        </div>
      </div>
      <div class="nav-right">
        <button class="nav-btn nav-phone" onclick="window.location.href='tel:03458324187'">
          <span class="icon">üìû</span>
          <span>Call Now</span>
        </button>
        <button class="nav-btn" onclick="navigateTo('cart')">
          <span class="icon-sm">üõí</span>
          <span id="nav-cart-count">Cart</span>
        </button>
        <!-- OWNER: STAR ONLY -->
        <button class="nav-btn" onclick="navigateTo('owner')">
          <span class="icon-sm">‚≠ê</span>
        </button>
        <button class="theme-toggle" id="themeToggle" type="button" aria-label="Toggle theme">
          <div class="theme-toggle-dot"></div>
        </button>
      </div>
    </div>
  </header>

  <main>

    <!-- HOME PAGE -->
    <section id="page-home" class="page active">

      <!-- HERO -->
      <section class="hero">
        <div>
          <h1 class="hero-heading">
            Scrumptious <span class="accent">Shawarmas!</span>, Delicious <span class="accent">Burgers!</span>.
          </h1>

          <div class="hero-timing-small">
            <span class="icon-sm">üî•</span>
            <span>2PM ‚Äì 1AM ‚Ä¢ Mon‚ÄìSun ‚Ä¢ Cash on Delivery</span>
          </div>

          <p class="hero-sub">
            MS Fast Food ‚Äì zinda dil Rawalpindi ka street food scene! Fresh buns, loaded fries, shawarma rolls, aur creamy sauces.
            Order now from your phone ‚Äì hum pohanchain ge garam garam, fast fast.
          </p>

          <div class="hero-badges">
            <div class="badge">
              <div class="badge-dot"></div>
              <span>Fast Delivery in nearby area</span>
            </div>
            <div class="badge">
              <span class="icon-xs">‚≠ê</span>
              <span>Customer Favourite</span>
            </div>
          </div>
          <div class="hero-actions">
            <button class="btn-lg" onclick="scrollToMenu()">
              <span class="icon">üçî</span>
              <span>Order Now</span>
            </button>
            <button class="btn-ghost" onclick="navigateTo('cart')">
              <span class="icon">üõí</span>
              <span>View Cart</span>
            </button>
          </div>
          <div class="hero-meta">
            <div class="hero-meta-item">
              <div class="hero-meta-dot"></div>
              <span>Mon ‚Äì Sun, 2:00 PM ‚Äì 1:00 AM</span>
            </div>
            <div class="hero-meta-item">
              <div class="hero-meta-dot"></div>
              <span>Cash on Delivery ‚Ä¢ No App Needed</span>
            </div>
          </div>
        </div>

        <div class="hero-card">
          <div class="hero-card-inner">
            <div class="hero-card-text">
              <h3>MS Signature Street Combo</h3>
              <p>Double loaded shawarma + fries combo, perfect for hungry dost! Taste jo yaad reh jaaye.</p>
              <div class="hero-mini-tags">
                <div class="hero-mini-tag">
                  <span class="icon-xs">üî•</span>
                  <span>Spicy option</span>
                </div>
                <div class="hero-mini-tag">
                  <span class="icon-xs">üßÄ</span>
                  <span>Extra cheesy</span>
                </div>
              </div>
              <div class="hero-card-footer">
                <div class="hero-card-stars">
                  <span class="star">‚òÖ</span><span class="star">‚òÖ</span><span class="star">‚òÖ</span><span class="star">‚òÖ</span><span class="star">‚òÖ</span>
                  <span>4.9 ‚Ä¢ Local Foodies</span>
                </div>
                <div class="hero-card-badge-deal">
                  <span class="icon-xs">‚ö°</span>
                  <span>Street Deal Highlight</span>
                </div>
              </div>
            </div>
            <div class="hero-food">
              <div class="hero-food-plate">
                <div class="hero-food-wrap"></div>
              </div>
            </div>
          </div>
          <div class="hero-card-badge">
            <div class="hero-card-badge-dot"></div>
            <span>Live Orders Open</span>
          </div>
        </div>
      </section>

      <!-- MENU SECTION -->
      <section id="menuSection" class="section">
        <div class="section-header">
          <div class="section-title">
            Menu
            <span class="accent">Select ‚Ä¢ Add to Cart ‚Ä¢ Checkout</span>
          </div>
          <div class="section-sub">
            Saari cheeze owner ke portal se update ho sakti hain ‚Äì prices, availability, new items.
          </div>
        </div>

        <div class="category-tabs" id="categoryTabs"></div>
        <div class="menu-grid" id="menuGrid"></div>
      </section>

    </section>

    <!-- CART PAGE -->
    <section id="page-cart" class="page">
      <section class="section">
        <div class="section-header">
          <div class="section-title">
            Your Order
            <span class="accent">Cart &amp; Delivery Details</span>
          </div>
          <div class="section-sub">
            Complete your order details below. Hum aap tak garam garam khana pohanchayn ge ‚Äì Cash on Delivery.
          </div>
        </div>

        <div class="two-col">
          <div class="card">
            <div class="card-title">
              <span>Cart Items</span>
              <span class="sub" id="cartSummaryTitle"></span>
            </div>
            <div class="cart-items" id="cartItemsList"></div>
            <div class="cart-summary">
              <div class="summary-row">
                <span>Items Total</span>
                <span id="summaryItemsTotal">Rs 0</span>
              </div>
              <div class="summary-row">
                <span>Delivery</span>
                <span>Cash on Delivery (charges as per area)</span>
              </div>
              <div class="summary-row total">
                <span>Grand Total</span>
                <span id="summaryGrandTotal">Rs 0</span>
              </div>
              <div class="summary-row note">
                <span>Note: Final bill aur delivery charges owner confirm karein ge call / WhatsApp par.</span>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-title">
              <span>Delivery Details</span>
              <span class="sub">Fill basic info so rider can find you easily</span>
            </div>

            <form id="checkoutForm" onsubmit="event.preventDefault(); placeOrder();">
              <div class="form-grid form-grid-2">
                <div class="form-field">
                  <label class="form-label">
                    <span>Full Name</span>
                  </label>
                  <input id="inputName" class="input" type="text" required maxlength="80" placeholder="Apna naam likhen" />
                </div>
                <div class="form-field">
                  <label class="form-label">
                    <span>Phone Number</span>
                    <span class="help">Rider will call here</span>
                  </label>
                  <input id="inputPhone" class="input" type="tel" required maxlength="20" placeholder="03XX-XXXXXXX" />
                </div>
              </div>

              <div class="form-grid">
                <div class="form-field">
                  <label class="form-label">
                    <span>Address / Nearby Landmark</span>
                    <span class="help">Required</span>
                  </label>
                  <input id="inputAddress" class="input" type="text" required maxlength="160" placeholder="Street, area name, famous point" />
                </div>
              </div>

              <div class="form-grid">
                <div class="form-field">
                  <label class="form-label">
                    <span>Location (optional)</span>
                    <span class="help">GPS if you allow</span>
                  </label>
                  <div class="form-row-inline">
                    <button type="button" class="btn-sm" onclick="getLocation()">
                      <span class="icon-sm">üìç</span>
                      <span>Get Current Location</span>
                    </button>
                    <span class="muted" id="locationStatus">GPS optional ‚Äì address is enough</span>
                  </div>
                  <input id="inputLat" class="input" type="text" readonly placeholder="Latitude" style="margin-top:0.25rem; font-size:0.74rem;" />
                  <input id="inputLng" class="input" type="text" readonly placeholder="Longitude" style="margin-top:0.2rem; font-size:0.74rem;" />
                </div>
              </div>

              <div class="form-grid">
                <div class="form-field">
                  <label class="form-label">
                    <span>Notes / Special Instructions</span>
                    <span class="help">Optional</span>
                  </label>
                  <textarea id="inputNotes" class="textarea" maxlength="300" placeholder="Less spicy, no mayo, extra fries, gate pe call kar dena, etc."></textarea>
                </div>
              </div>

              <div class="form-grid">
                <div class="form-field">
                  <label class="form-label">
                    <span>Payment</span>
                  </label>
                  <div class="chip">
                    <span class="icon-xs">üíµ</span>
                    <span>Cash on Delivery only</span>
                  </div>
                </div>
              </div>

              <div class="form-row-inline" style="margin-top:0.5rem;">
                <button type="submit" class="btn-sm btn-sm-primary">
                  <span class="icon-sm">‚úÖ</span>
                  <span>Place Order</span>
                </button>
                <button type="button" class="btn-sm btn-sm-ghost" onclick="navigateTo('home')">
                  <span class="icon-sm">‚¨ÖÔ∏è</span>
                  <span>Back to Menu</span>
                </button>
                <span class="muted" id="checkoutHint">
                  We will confirm order on call / WhatsApp. Please keep phone active.
                </span>
              </div>
            </form>
          </div>
        </div>
      </section>
    </section>

    <!-- OWNER PORTAL PAGE -->
    <section id="page-owner" class="page">

      <!-- LOGIN -->
      <div id="ownerLoginSection">
        <div class="section">
          <div class="owner-login-box card">
            <div class="owner-login-title">Owner Portal ‚Äì MS Fast Food</div>
            <div class="owner-login-sub">
              Sirf owner / trusted staff ke liye. Yahan se orders manage karein, menu edit karein, aur prices update karein ‚Äì sab phone se.
            </div>

            <form onsubmit="event.preventDefault(); ownerLogin();">
              <div class="form-field">
                <label class="form-label">
                  <span>Username</span>
                </label>
                <input id="ownerUsername" class="input" type="text" placeholder="admin-sohail" required />
              </div>
              <div class="form-field" style="margin-top:0.3rem;">
                <label class="form-label">
                  <span>Password</span>
                </label>
                <input id="ownerPassword" class="input" type="password" placeholder="********" required />
              </div>

              <div class="form-row-inline" style="margin-top:0.55rem;">
                <button type="submit" class="btn-sm btn-sm-primary">
                  <span class="icon-sm">üîì</span>
                  <span>Login</span>
                </button>
                <span class="muted">
                  Default: <strong>admin-sohail</strong> / <strong>sohail302420</strong>
                </span>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- DASHBOARD -->
      <div id="ownerDashboard" style="display:none;">
        <section class="section">
          <div class="section-header">
            <div class="section-title">
              Dashboard
              <span class="accent">Orders ‚Ä¢ Menu ‚Ä¢ Live Control</span>
            </div>
            <div class="section-sub">
              Aap yahan se live orders dekh sakte hain, status change karein, items add/remove karein, prices update karein ‚Äì sab kuch.
            </div>
          </div>

          <div class="form-row-inline" style="margin-bottom:0.6rem;">
            <button type="button" class="btn-sm btn-sm-ghost" onclick="exitOwnerPortal()">
              <span class="icon-sm">üö™</span>
              <span>Exit</span>
            </button>
          </div>

          <div class="owner-layout">
            <!-- Orders -->
            <div class="card">
              <div class="card-title">
                <span>Orders</span>
                <div class="form-row-inline">
                  <button type="button" class="btn-xs" onclick="refreshOwnerOrders()">
                    <span class="icon-xs">üîÑ</span>
                    <span>Refresh</span>
                  </button>
                  <span class="muted" id="ownerOrdersSummary">No orders loaded yet</span>
                </div>
              </div>
              <div class="owner-section active" id="ownerOrdersSection">
                <div style="overflow-x:auto;">
                  <table class="owner-table" id="ownerOrdersTable">
                    <thead>
                    <tr>
                      <th>#</th>
                      <th>Time</th>
                      <th>Customer</th>
                      <th>Items</th>
                      <th>Total</th>
                      <th>Status</th>
                      <th>Actions</th>
                    </tr>
                    </thead>
                    <tbody></tbody>
                  </table>
                </div>
              </div>
            </div>

            <!-- Menu -->
            <div class="card">
              <div class="card-title">
                <span>Menu &amp; Prices</span>
                <span class="sub">Full control ‚Äì add, edit, delete items</span>
              </div>

              <div class="owner-tabs">
                <button class="owner-tab active" id="tab-menu-items" type="button" onclick="switchOwnerTab('menu')">
                  <span class="icon-xs">üìã</span>
                  <span>Items</span>
                </button>
                <button class="owner-tab" id="tab-menu-settings" type="button" onclick="switchOwnerTab('settings')">
                  <span class="icon-xs">‚öôÔ∏è</span>
                  <span>Settings / Info</span>
                </button>
              </div>

              <div class="owner-section active" id="ownerMenuSection">
                <div class="muted" style="margin-bottom:0.3rem;">
                  Category wise items dikh rahe hain. Price aur availability change karein, new items add karein, kuch bhi delete karein.
                </div>
                <div class="form-field">
                  <label class="form-label">
                    <span>Category</span>
                  </label>
                  <select id="ownerCategorySelect" class="select" onchange="renderOwnerMenuItems()"></select>
                </div>
                <div class="owner-menu-list" id="ownerMenuList"></div>

                <div class="owner-add-form">
                  <div class="muted" style="margin-bottom:0.3rem;">
                    Naya item add karein is category mein:
                  </div>
                  <div class="owner-add-grid">
                    <input id="newItemName" class="input" type="text" placeholder="Item name (e.g. Chicken Shawarma XL)" />
                    <input id="newItemPrice" class="input" type="number" min="0" placeholder="Price (e.g. 250)" />
                  </div>
                  <div class="form-row-inline" style="justify-content: space-between;">
                    <div class="muted">
                      Default: <strong>Available</strong>. You can change later.
                    </div>
                    <button type="button" class="btn-sm btn-sm-primary" onclick="ownerAddItem()">
                      <span class="icon-sm">‚ûï</span>
                      <span>Add Item</span>
                    </button>
                  </div>
                </div>
              </div>

              <div class="owner-section" id="ownerSettingsSection">
                <div class="muted">
                  Backend endpoints aapke server / Vercel / Netlify pe hon ge. Yeh frontend following endpoints ko call karega:
                </div>
                <ul class="muted" style="margin-top:0.3rem; padding-left:1rem; font-size:0.74rem;">
                  <li><code>GET /api/menu</code> ‚Äì current menu pull karne ke liye</li>
                  <li><code>PUT /api/menu</code> ‚Äì updated pura menu save karne ke liye</li>
                  <li><code>GET /api/orders</code> ‚Äì all orders list for owner</li>
                  <li><code>POST /api/orders</code> ‚Äì naya order customer se receive</li>
                  <li><code>PUT /api/orders/:id</code> ‚Äì order status/update</li>
                  <li><code>DELETE /api/orders/:id</code> ‚Äì order delete</li>
                </ul>
                <div class="muted" style="margin-top:0.35rem;">
                  Abhi orders backend pe save ho rahe hain. Menu sync chahiye ho to alag se add kar sakte hain.
                </div>
              </div>
            </div>

          </div>
        </section>
      </div>

    </section>

    <!-- CONTACT PAGE -->
    <section id="page-contact" class="page">
      <section class="section">
        <div class="section-header">
          <div class="section-title">
            Contact &amp; Info
            <span class="accent">MS Fast Food ‚Äì Rawalpindi</span>
          </div>
          <div class="section-sub">
            Street food ka asli taste ‚Äì shawarma, fries, rolls, aur zinger style items. Call, order, ya owner portal se menu manage karein.
          </div>
        </div>

        <div class="contact-grid">
          <div class="contact-highlight">
            <div class="contact-heading">Call &amp; Ordering</div>
            <div class="contact-row">
              <div class="contact-label">Phone / WhatsApp</div>
              <div class="contact-value">
                <a href="tel:03458324187">0345 8324187</a>
              </div>
            </div>
            <div class="contact-row">
              <div class="contact-label">Timings</div>
              <div class="contact-value">Mon ‚Äì Sun, 2:00 PM ‚Äì 1:00 AM</div>
            </div>
            <div class="contact-row">
              <div class="contact-label">Payment</div>
              <div class="contact-value">Cash on Delivery</div>
            </div>
            <div class="contact-row" style="margin-top:0.45rem;">
              <div class="muted">
                Street style setup ‚Äì best served fresh. Order early for peak hours, warna queue lambi ho sakti hai.
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-title">
              <span>About MS Fast Food</span>
              <span class="sub">Local street taste, with love</span>
            </div>
            <p class="muted">
              MS Fast Food ek chhota lekin dil se chalne wala street restaurant hai ‚Äì yahan sab kuch fresh banta hai.
              Shawarma, fries, rolls aur daily snacks, sab kuch pocket-friendly prices par.
            </p>
            <p class="muted">
              Ye website sirf ek simple phone se manage ho sakti hai: owner portal se menu update karein, orders dekhein, aur status manage karein ‚Äì
              bina kisi heavy system ke.
            </p>
            <p class="muted">
              <strong>Tip for owner:</strong> Is page ko home screen pe "Add to Home Screen" karein (Chrome/Android se)
              taake ye ek app ki tarah khule, jaldi access ho.
            </p>
          </div>
        </div>
      </section>
    </section>

  </main>

  <!-- CART BAR -->
  <div id="cartBar" class="cart-bar">
    <div class="cart-bar-info" onclick="navigateTo('cart')">
      <div class="cart-pill">
        <span class="icon-sm">üõí</span>
        <div class="cart-pill-count" id="cartBarCount">0</div>
      </div>
      <div>
        <div class="cart-bar-text-main" id="cartBarSummaryMain">Cart Empty</div>
        <div class="cart-bar-text-sub" id="cartBarSummarySub">Tap to review and checkout</div>
      </div>
    </div>
    <button class="cart-bar-btn" onclick="navigateTo('cart')">
      <span>Checkout</span>
      <span class="icon-sm">‚û°Ô∏è</span>
    </button>
  </div>

  <footer class="footer">
    <div>
      <span class="brand-mini">MS Fast Food</span> ‚Ä¢ Rawalpindi street taste ‚Ä¢ Cash on Delivery ‚Ä¢ 2PM‚Äì1AM
    </div>
    <div style="margin-top:0.22rem;">
      Customer side: no login, no app ‚Äì simple mobile-friendly ordering.
    </div>
  </footer>
</div>

<div id="toast" class="toast"></div>

<script>
  const PAGES = ["home", "cart", "owner", "contact"];

  function navigateTo(pageId) {
    for (const page of PAGES) {
      const section = document.getElementById("page-" + page);
      if (section) section.classList.toggle("active", page === pageId);
    }
    if (pageId === "cart") {
      renderCart();
    }
  }

  function scrollToMenu() {
    navigateTo("home");
    const menuSection = document.getElementById("menuSection");
    if (menuSection) menuSection.scrollIntoView({ behavior: "smooth", block: "start" });
  }

  function showToast(message, duration = 2500) {
    const toast = document.getElementById("toast");
    toast.textContent = message;
    toast.classList.add("show");
    setTimeout(() => toast.classList.remove("show"), duration);
  }

  const themeKey = "ms_fast_food_theme";
  function applyTheme(theme) {
    document.body.setAttribute("data-theme", theme);
  }
  function initTheme() {
    const saved = localStorage.getItem(themeKey);
    if (saved === "light" || saved === "dark") applyTheme(saved);
    else applyTheme("light");
  }
  function toggleTheme() {
    const current = document.body.getAttribute("data-theme") || "light";
    const next = current === "light" ? "dark" : "light";
    applyTheme(next);
    localStorage.setItem(themeKey, next);
  }
  document.getElementById("themeToggle").addEventListener("click", toggleTheme);

  const API_BASE = "https://ms-fast-food.vercel.app";

  const defaultMenuData = {
    "Shawarma": [
      { id: "shawarma-large", name: "Chicken Shawarma (Large)", price: 150, available: true, description: "Big size wrap, full of flavour and juicy chicken.", tags: ["Street Favourite"] },
      { id: "shawarma-medium", name: "Chicken Shawarma (Medium)", price: 120, available: true, description: "Perfect solo snack size.", tags: ["Value"] },
      { id: "shawarma-regular", name: "Chicken Shawarma (Regular)", price: 200, available: true, description: "Classic loaded shawarma, saucy & satisfying.", tags: ["Best Seller"] },
      { id: "shawarma-special", name: "Chicken Shawarma (Special)", price: 230, available: true, description: "Extra filling, extra sauce ‚Äì full meal feel.", tags: ["Hungry Special"] },
      { id: "shawarma-cheese", name: "Cheese Shawarma", price: 200, available: true, description: "Creamy cheese inside, toasted outside.", tags: ["Cheesy"] },
      { id: "shawarma-zinger", name: "Zinger Shawarma", price: 350, available: true, description: "Crispy zinger style chicken with house sauce.", tags: ["Crispy"] },
      { id: "shawarma-p", name: "P. Shawarma", price: 350, available: true, description: "Platter style or premium style (owner define kare).", tags: ["Premium"] },
      { id: "shawarma-p-cheese", name: "P. Cheese Shawarma", price: 400, available: true, description: "Premium + cheese overload, heavy hunger killer.", tags: ["Premium","Cheesy"] }
    ],
    "Fries & Snacks": [
      { id: "fries-plain", name: "Plain Fries", price: 120, available: true, description: "Crispy fries, perfect side for any meal.", tags: ["Crispy"] },
      { id: "fries-mayo", name: "Mayo Fries", price: 150, available: true, description: "Fries topped with mayo and sauce.", tags: ["Popular"] }
    ]
  };

  let menuData = JSON.parse(JSON.stringify(defaultMenuData));
  let categories = Object.keys(menuData);
  let activeCategory = categories[0] || null;

  function renderCategoryTabs() {
    const container = document.getElementById("categoryTabs");
    container.innerHTML = "";
    categories.forEach(cat => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.className = "category-tab" + (cat === activeCategory ? " active" : "");
      btn.innerHTML = `<span class="dot"></span><span>${cat}</span>`;
      btn.onclick = () => {
        activeCategory = cat;
        renderCategoryTabs();
        renderMenuGrid();
      };
      container.appendChild(btn);
    });
  }

  function renderMenuGrid() {
    const container = document.getElementById("menuGrid");
    container.innerHTML = "";
    if (!activeCategory || !menuData[activeCategory] || menuData[activeCategory].length === 0) {
      const div = document.createElement("div");
      div.className = "muted";
      div.textContent = "No items in this category yet. Owner portal se add karein.";
      container.appendChild(div);
      return;
    }
    menuData[activeCategory].forEach(item => {
      const card = document.createElement("div");
      card.className = "menu-card" + (!item.available ? " unavailable" : "");
      card.innerHTML = `
        ${!item.available ? `<div class="menu-badge-unavailable">Not Available</div>` : ""}
        <div class="menu-thumb"></div>
        <div class="menu-content">
          <div class="menu-title-row">
            <div class="menu-name">${item.name}</div>
            <div class="menu-price">Rs ${item.price}</div>
          </div>
          <div class="menu-desc">${item.description || ""}</div>
          <div class="menu-meta-row">
            <div class="menu-tags">
              ${(item.tags || []).map(t => `<span class="menu-tag">${t}</span>`).join("")}
            </div>
            <button class="menu-cta" type="button" ${!item.available ? "disabled" : ""}>
              <span class="icon-xs">‚ûï</span>
              <span>Add</span>
            </button>
          </div>
        </div>
      `;
      const btn = card.querySelector(".menu-cta");
      if (item.available) {
        btn.addEventListener("click", () => addToCart(item));
      }
      container.appendChild(card);
    });
  }

  let cart = [];

  function addToCart(item) {
    const existing = cart.find(ci => ci.id === item.id);
    if (existing) existing.qty += 1;
    else cart.push({ id: item.id, name: item.name, price: item.price, qty: 1 });
    updateCartUI();
    showToast(item.name + " added to cart");
  }

  function updateCartUI() {
    let totalQty = 0;
    let totalPrice = 0;
    cart.forEach(ci => {
      totalQty += ci.qty;
      totalPrice += ci.qty * ci.price;
    });
    const navCartCount = document.getElementById("nav-cart-count");
    navCartCount.textContent = totalQty ? `Cart (${totalQty})` : "Cart";

    const cartBar = document.getElementById("cartBar");
    if (totalQty > 0) cartBar.classList.add("visible");
    else cartBar.classList.remove("visible");

    document.getElementById("cartBarCount").textContent = totalQty;
    document.getElementById("cartBarSummaryMain").textContent = totalQty ? `${totalQty} item${totalQty !== 1 ? "s" : ""}` : "Cart Empty";
    document.getElementById("cartBarSummarySub").textContent = totalPrice ? `Approx Rs ${totalPrice}` : "Tap to review and checkout";

    const summaryTitle = document.getElementById("cartSummaryTitle");
    summaryTitle.textContent = totalQty ? `${totalQty} item${totalQty !== 1 ? "s" : ""}` : "Cart empty";

    document.getElementById("summaryItemsTotal").textContent = `Rs ${totalPrice}`;
    document.getElementById("summaryGrandTotal").textContent = `Rs ${totalPrice}`;
  }

  function renderCart() {
    const container = document.getElementById("cartItemsList");
    container.innerHTML = "";
    if (!cart.length) {
      const div = document.createElement("div");
      div.className = "cart-empty";
      div.textContent = "Your cart is empty. Go back to menu and add some items!";
      container.appendChild(div);
      return;
    }
    cart.forEach((ci, index) => {
      const row = document.createElement("div");
      row.className = "cart-item";
      row.innerHTML = `
        <div class="cart-item-main">
          <div class="cart-item-name">${ci.name}</div>
          <div class="cart-item-meta">
            <span>Rs ${ci.price} each</span>
            <span>Subtotal: Rs ${ci.price * ci.qty}</span>
          </div>
        </div>
        <div class="cart-item-actions">
          <div class="qty-control">
            <button type="button" class="qty-btn" aria-label="Decrease" ${ci.qty <= 1 ? "disabled" : ""}>-</button>
            <span class="qty-number">${ci.qty}</span>
            <button type="button" class="qty-btn" aria-label="Increase">+</button>
          </div>
          <button type="button" class="cart-remove">‚úï</button>
        </div>
      `;
      const [minusBtn, plusBtn] = row.querySelectorAll(".qty-btn");
      const removeBtn = row.querySelector(".cart-remove");

      minusBtn.addEventListener("click", () => {
        if (ci.qty > 1) ci.qty -= 1;
        else cart.splice(index, 1);
        updateCartUI();
        renderCart();
      });

      plusBtn.addEventListener("click", () => {
        ci.qty += 1;
        updateCartUI();
        renderCart();
      });

      removeBtn.addEventListener("click", () => {
        cart.splice(index, 1);
        updateCartUI();
        renderCart();
      });

      container.appendChild(row);
    });
  }

  function getLocation() {
    const statusEl = document.getElementById("locationStatus");
    if (!navigator.geolocation) {
      statusEl.textContent = "Geolocation is not supported by this device.";
      showToast("Geolocation not supported on this device.");
      return;
    }
    statusEl.textContent = "Getting your location, please wait...";
    navigator.geolocation.getCurrentPosition(
      pos => {
        const lat = pos.coords.latitude.toFixed(6);
        const lng = pos.coords.longitude.toFixed(6);
        document.getElementById("inputLat").value = lat;
        document.getElementById("inputLng").value = lng;
        statusEl.textContent = "Location captured successfully.";
        showToast("Location captured");
      },
      err => {
        console.error("Geolocation error", err);
        statusEl.textContent = "Could not get location. You can still place order with address.";
        showToast("Could not get location, but you can still place order.");
      },
      { enableHighAccuracy: true, timeout: 10000, maximumAge: 30000 }
    );
  }

  async function placeOrder() {
    if (!cart.length) {
      showToast("Cart is empty. Add some items first.");
      return;
    }
    const name = document.getElementById("inputName").value.trim();
    const phone = document.getElementById("inputPhone").value.trim();
    const address = document.getElementById("inputAddress").value.trim();
    const notes = document.getElementById("inputNotes").value.trim();
    const lat = document.getElementById("inputLat").value.trim();
    const lng = document.getElementById("inputLng").value.trim();

    if (!name || !phone || !address) {
      showToast("Name, phone and address are required.");
      return;
    }

    const items = cart.map(ci => ({
      id: ci.id,
      name: ci.name,
      price: ci.price,
      qty: ci.qty
    }));
    let total = 0;
    items.forEach(i => total += i.price * i.qty);

    const payload = {
      customerName: name,
      customerPhone: phone,
      customerAddress: address,
      notes,
      lat: lat || null,
      lng: lng || null,
      paymentMethod: "Cash on Delivery",
      items,
      totalAmount: total,
      status: "Pending",
      createdAt: new Date().toISOString()
    };

    try {
      const res = await fetch(API_BASE + "/api/orders", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });
      if (!res.ok) throw new Error("Order request failed");

      showToast("Order placed successfully. We will contact you soon.");
      cart = [];
      updateCartUI();
      renderCart();
      document.getElementById("checkoutForm").reset();
      document.getElementById("inputLat").value = "";
      document.getElementById("inputLng").value = "";
      document.getElementById("locationStatus").textContent = "GPS optional ‚Äì address is enough";
    } catch (err) {
      console.error(err);
      showToast("Could not place order. Please try again.");
    }
  }

  const OWNER_USER = "admin-sohail";
  const OWNER_PASS = "sohail302420";
  const OWNER_KEY = "ms_fast_food_owner_logged_in";

  function ownerLogin() {
    const u = document.getElementById("ownerUsername").value.trim();
    const p = document.getElementById("ownerPassword").value.trim();
    if (u === OWNER_USER && p === OWNER_PASS) {
      localStorage.setItem(OWNER_KEY, "1");
      showToast("Owner login successful.");
      showOwnerDashboard(true);
      loadOwnerData();
    } else {
      showToast("Incorrect username or password.");
    }
  }

  function showOwnerDashboard(isLoggedIn) {
    document.getElementById("ownerLoginSection").style.display = isLoggedIn ? "none" : "";
    document.getElementById("ownerDashboard").style.display = isLoggedIn ? "" : "none";
  }

  function checkOwnerLoginOnLoad() {
    const logged = localStorage.getItem(OWNER_KEY) === "1";
    showOwnerDashboard(logged);
    if (logged) loadOwnerData();
  }

  function exitOwnerPortal() {
    navigateTo("home");
  }

  const OWNER_USER_ORDERS = [];
  let ownerOrders = [];

  async function loadOwnerData() {
    renderOwnerCategorySelect();
    renderOwnerMenuItems();
    await refreshOwnerOrders();
  }

  async function refreshOwnerOrders() {
    try {
      const res = await fetch(API_BASE + "/api/orders");
      if (!res.ok) throw new Error("Failed to load orders");
      ownerOrders = await res.json();
    } catch (e) {
      console.error(e);
      showToast("Could not load orders (check connection).");
    }
    renderOwnerOrders();
  }

  function renderOwnerOrders() {
    const tbody = document.querySelector("#ownerOrdersTable tbody");
    tbody.innerHTML = "";
    if (!ownerOrders.length) {
      const tr = document.createElement("tr");
      const td = document.createElement("td");
      td.colSpan = 7;
      td.className = "muted";
      td.textContent = "No orders yet. Jaise hi customers place karein ge, yahan appear hon ge.";
      tr.appendChild(td);
      tbody.appendChild(tr);
    } else {
      ownerOrders.forEach((o, idx) => {
        const tr = document.createElement("tr");
        const time = new Date(o.createdAt);
        const timeStr = isNaN(time.getTime()) ? o.createdAt : time.toLocaleString();
        const itemsShort = (o.items || []).map(i => `${i.name} √ó${i.qty}`).join(", ");
        tr.innerHTML = `
          <td>${idx + 1}</td>
          <td>${timeStr}</td>
          <td>
            <div>${o.customerName}</div>
            <div class="muted">${o.customerPhone}</div>
            <div class="muted" style="max-width:180px; white-space:normal;">${o.customerAddress}</div>
          </td>
          <td style="max-width:200px; white-space:normal;">${itemsShort}</td>
          <td>Rs ${o.totalAmount}</td>
          <td>
            <div class="status-pill ${o.status === "Completed" ? "completed" : "pending"}">
              <span class="icon-xs">${o.status === "Completed" ? "‚úÖ" : "‚è≥"}</span>
              <span>${o.status}</span>
            </div>
          </td>
          <td>
            <div class="owner-table-actions">
              <button type="button" class="btn-xs" data-action="toggle">
                <span class="icon-xs">üîÅ</span>
                <span>${o.status === "Completed" ? "Mark Pending" : "Mark Done"}</span>
              </button>
              <button type="button" class="btn-xs btn-xs-danger" data-action="delete">
                <span class="icon-xs">üóë</span>
                <span>Delete</span>
              </button>
            </div>
          </td>
        `;
        const toggleBtn = tr.querySelector('[data-action="toggle"]');
        const deleteBtn = tr.querySelector('[data-action="delete"]');
        toggleBtn.addEventListener("click", () => ownerToggleOrderStatus(o.id));
        deleteBtn.addEventListener("click", () => ownerDeleteOrder(o.id));
        tbody.appendChild(tr);
      });
    }
    const summaryEl = document.getElementById("ownerOrdersSummary");
    const pendingCount = ownerOrders.filter(o => o.status === "Pending").length;
    summaryEl.textContent = `${ownerOrders.length} total ‚Ä¢ ${pendingCount} pending`;
  }

  async function ownerToggleOrderStatus(orderId) {
    const order = ownerOrders.find(o => o.id === orderId);
    if (!order) return;
    const newStatus = order.status === "Completed" ? "Pending" : "Completed";
    try {
      const res = await fetch(API_BASE + "/api/orders?id=" + encodeURIComponent(orderId), {
        method: "PUT",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ status: newStatus })
      });
      if (!res.ok) throw new Error("Failed");
      order.status = newStatus;
      showToast("Order status updated.");
      renderOwnerOrders();
    } catch (e) {
      console.error(e);
      showToast("Could not update order status.");
    }
  }

  async function ownerDeleteOrder(orderId) {
    if (!confirm("Delete this order? This cannot be undone.")) return;
    try {
      const res = await fetch(API_BASE + "/api/orders?id=" + encodeURIComponent(orderId), {
        method: "DELETE"
      });
      if (!res.ok) throw new Error("Failed");
      ownerOrders = ownerOrders.filter(o => o.id !== orderId);
      showToast("Order deleted.");
      renderOwnerOrders();
    } catch (e) {
      console.error(e);
      showToast("Could not delete order.");
    }
  }

  function renderOwnerCategorySelect() {
    const select = document.getElementById("ownerCategorySelect");
    select.innerHTML = "";
    categories.forEach(cat => {
      const opt = document.createElement("option");
      opt.value = cat;
      opt.textContent = cat;
      select.appendChild(opt);
    });
    if (!categories.length) {
      const opt = document.createElement("option");
      opt.value = "";
      opt.textContent = "No categories yet";
      select.appendChild(opt);
    }
  }

  function getOwnerSelectedCategory() {
    return document.getElementById("ownerCategorySelect").value;
  }

  function renderOwnerMenuItems() {
    const listEl = document.getElementById("ownerMenuList");
    listEl.innerHTML = "";
    const cat = getOwnerSelectedCategory();
    if (!cat || !menuData[cat] || !menuData[cat].length) {
      const div = document.createElement("div");
      div.className = "muted";
      div.textContent = "No items in this category yet.";
      listEl.appendChild(div);
      return;
    }
    menuData[cat].forEach((item, idx) => {
      const row = document.createElement("div");
      row.className = "owner-menu-item";
      row.innerHTML = `
        <div class="owner-menu-main">
          <div class="owner-menu-name">${item.name}</div>
          <div class="owner-menu-meta">
            <span>${item.description || "No description"}</span><br/>
            <span>Tags: ${(item.tags || []).join(", ") || "none"}</span>
          </div>
        </div>
        <div class="owner-menu-price-edit">
          <span>Rs</span>
          <input type="number" min="0" class="input-inline" value="${item.price}" />
        </div>
        <div class="owner-menu-actions">
          <button type="button" class="btn-xs" data-action="toggle">
            <span class="icon-xs">${item.available ? "‚úÖ" : "üö´"}</span>
            <span>${item.available ? "Available" : "Hidden"}</span>
          </button>
          <button type="button" class="btn-xs" data-action="rename">
            <span class="icon-xs">‚úèÔ∏è</span>
            <span>Rename</span>
          </button>
          <button type="button" class="btn-xs btn-xs-danger" data-action="delete">
            <span class="icon-xs">üóë</span>
            <span>Delete</span>
          </button>
        </div>
      `;
      const priceInput = row.querySelector(".input-inline");
      priceInput.addEventListener("change", () => {
        const newVal = parseInt(priceInput.value, 10) || 0;
        item.price = newVal;
        showToast("Price updated (local).");
        renderMenuGrid();
      });
      const toggleBtn = row.querySelector('[data-action="toggle"]');
      const renameBtn = row.querySelector('[data-action="rename"]');
      const deleteBtn = row.querySelector('[data-action="delete"]');

      toggleBtn.addEventListener("click", () => {
        item.available = !item.available;
        showToast("Availability changed (local).");
        renderOwnerMenuItems();
        renderMenuGrid();
      });

      renameBtn.addEventListener("click", () => {
        const newName = prompt("New item name:", item.name);
        if (newName && newName.trim()) {
          item.name = newName.trim();
          showToast("Item renamed (local).");
          renderOwnerMenuItems();
          renderMenuGrid();
        }
      });

      deleteBtn.addEventListener("click", () => {
        if (!confirm("Delete this menu item?")) return;
        menuData[cat].splice(idx, 1);
        showToast("Item deleted (local).");
        renderOwnerMenuItems();
        renderMenuGrid();
      });

      listEl.appendChild(row);
    });
  }

  function ownerAddItem() {
    const cat = getOwnerSelectedCategory();
    if (!cat) {
      showToast("No category selected.");
      return;
    }
    const nameInput = document.getElementById("newItemName");
    const priceInput = document.getElementById("newItemPrice");
    const name = nameInput.value.trim();
    const price = parseInt(priceInput.value, 10) || 0;
    if (!name || price <= 0) {
      showToast("Name and price required.");
      return;
    }
    const newItem = {
      id: cat.toLowerCase().replace(/\s+/g, "-") + "-" + Date.now(),
      name,
      price,
      available: true,
      description: "",
      tags: []
    };
    menuData[cat] = menuData[cat] || [];
    menuData[cat].push(newItem);
    nameInput.value = "";
    priceInput.value = "";
    showToast("New menu item added (local).");
    renderOwnerMenuItems();
    renderMenuGrid();
  }

  function init() {
    initTheme();
    renderCategoryTabs();
    renderMenuGrid();
    updateCartUI();
    checkOwnerLoginOnLoad();
  }

  document.addEventListener("DOMContentLoaded", init);
</script>
</body>
</html>
